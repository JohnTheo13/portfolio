import { expect } from 'chai'
import { describe, it, beforeEach } from 'storybook-addon-specifications'
import React from 'react'
import { mount } from 'enzyme'
import theme from './../../theme'
import TextArea from './TextArea'

const test = () => (
  describe('TextAreas', () => {
    let wrapper
    beforeEach(() => {
      wrapper = mount(<TextArea placeholder="stories" />)
    })
    it('should render an input', () =>
      expect(wrapper.find('FormControl').childAt(0).type()).to.equal('textarea'))
    it('should have placeholder=stories', () =>
      expect(wrapper.find('FormControl').childAt(0).prop('placeholder')).to.equal('stories'))
    it('should be disabled', () => {
      wrapper.setProps({ disabled: true })
      expect(wrapper.find('FormControl').childAt(0).props().disabled).to.equal(true)
    })
    it('should be success', () => {
      wrapper.setProps({ status: 'success' })
      expect(wrapper.find('FormControl').childAt(0).props().style).to.have.deep.property('border', `1px solid ${theme.successMedium}`)
    })
    it('should be error', () => {
      wrapper.setProps({ status: 'error' })
      expect(wrapper.find('FormControl').childAt(0).props().style).to.have.deep.property('border', `1px solid ${theme.errorMedium}`)
    })
    it('should be warning', () => {
      wrapper.setProps({ status: 'warning' })
      expect(wrapper.find('FormControl').childAt(0).props().style).to.have.deep.property('border', `1px solid ${theme.warningMedium}`)
    })
  })
)

export default test
